# GR_4660

# Инструкция для работы с Git и удалёнными репозиториями

## Что такое Git?
***
***
***
Git - это одна из реализаций распределённых систем контроля версий, имеющая как и локальные, так и удалённые репозитории. Является самой популярной реализацией систем контроля версий в мире.
## Настройка
___
Итак, мы установили git, теперь нужно добавить немного настроек. Есть довольно много опций, с которыми можно играть, но мы настроим самые важные: наше имя пользователя и адрес электронной почты. Откройте терминал и запустите команды:
* *git config --global user.name "My Name"*
* *git config --global user.email myEmail@example.com*

## Подготовка репозитория
___
Для создание репозитория необходимо выполнить команду *git init* в папке с репозиторием и у Вас создаться репозиторий (появится скрытая папка .git)

## Создание коммитов
___
### Git add
Для добавления измений в коммит используется команда *git add*. Чтобы использовать команду *git add* напишите *git add <имя файла>*

### Просмотр состояния репозитория
Для того, чтобы посмотреть состояние репозитория используется команда *git status*. Для этого необходимо в папке с репозиторием написать *git status*, и Вы увидите были ли измения в файлах, или их не было.

### Создание коммитов
Для того, чтобы создать коммит(сохранение) необходимо выполнить команду *git commit*. Выполняется она так: *git commit -m "<сообщение к коммиту>*. Все файлы для коммита должны быть ***ДОБАВЛЕНЫ*** и сообщение к коммиту писать ***ОБЯЗАТЕЛЬНО***.

## Перемещение между сохранениями
___
Для того, чтобы перемещаться между коммитами, используется команда *git checkout*. Используется она в папке с пепозиторием следующим образом: *git checkout <номер коммита>*

## Журнал изменений
___
Для того, чтобы посмтреть все сделанные изменения в репозитории, используется команда *git log*. Для этого достаточно выполнить команду *git log* в папке с репозиторием

### Полезные параметры команды git log
* *-p* - Показывает разницу для каждого коммита
* *--stat* - Показывает статистику измененных файлов для каждого коммита.
* *--graph* - Отображает ASCII граф с ветвлениями и историей слияний
* *--oneline* - Показывает журнал изменений в компактом виде

## Ветки в Git
___
### Создание ветки
Для того, чтобы создать ветку, используется команда *git branch*. Делается это следующим образом в папке с репозиторием: *git branch <название новой ветки>*

## Слияние веток
***
Для того чтобы дабавить ветку в текущую ветку используется команда *git merge*

## Удаление веток
---
Для удаления ветки ввести команду *"git branch -d 'name branch'"*

## Опции git branch
1. -r | -a [--merged | --no-merged] — Список отслеживаемых внешних веток -r. Список и отслеживаемых и локальных веток -a. Список слитых веток --merged. Список не слитых веток --no-merged.
2. -l, -f <имя-ветки> [<точка-начала>] — Список имён веток -l. Принудительное создание, перемещение или удаление ветки -f. Создание новой ветки <имя ветки>.
3. -r (-d | -D) — Выполнить действие на отслеживаемой внешней ветке -r. Удалить слитую ветку -d. Принудительное удаление (даже не слитой ветки) -D.
4. -m | -M [<Старая ветка>] <Новая ветка> — Переместить/переименовать ветки и ее журнал ссылок (-m). Переместить/переименовать ветку, даже если целевое имя уже существует -M.
(-с | -С) [<старая-ветка>] <новая-ветка> — Скопировать ветку и её журнал ссылок -c. Скопировать ветку, даже если целевое имя уже существует -C.
-v, -vv — Список веток с последним коммитом на ветке -v. Список и состояние отслеживаемых веток с последним коммитом на них.
## Работа с удалённым репозиторием
___
Так как git это распределённая СКВ вы можете работать не только с локальными но и с внешними репозиториеми.
Удалённые репозитории представляют собой версии вашего проекта, сохранённые на внешнем сервере.
Для работы с внешними репозиториями используйте: *git remote [<options>]*

Если вы с клонировали репозитории через http URL то у вас уже имеется ссылка на внешний. В другом случае вы можете добавить её с помощью *git remote add [<options>] <name> <adress>*

Вы можете тут же извлечь внешние ветки с помощью *-f, --fetch* (вы получите имена и состояние веток внешнего репозитория). Вы можете настроить репозитории только на отправку или получение данных с помощью *--mirror[=(push|fetch)]*. Для получения меток укажите *--tags*.

Для просмотра подключённых внешних репозиториев используйте *git remote* без аргументов или *git remote -v* для просмотра адресов на отправку и получение данных от репозитория.

Для отслеживания веток используйте *git branch -u <rep/br>* где rep это название репозитория, br название внешней ветки, а branch название локальной ветки. Либо *git branch --set-upstream local_br origin/br* для того что бы указать какая именно локальная ветка будет отслеживать внешнюю ветку.

Когда ваша ветка отслеживает внешнюю вы можете узнать какая ветка (локальная или внешняя) отстаёт или опережает и на сколько коммитов. К примеру если после коммита вы не выполняли *git push* то ваша ветка будет опережать внешнюю на 1 коммит. Вы можете узнать об этом выполнив *git branch -vv*, но прежде выполните *git fetch [remote-name]* (--all для получения обновления со всех репозиториев) что бы получить актуальные данные из внешнего репозитория. Для отмены отслеживания ветки используйте *git branch --unset-upstream [<local_branch>]*.

Для загрузки данных с внешнего репозитория используйте *git pull [rep] [branch]*. Если ваши ветки отслеживают внешние, то можете не указывать их при выполнение *git pull*. По умолчанию вы получите данные со всех отслеживаемых веток.

Для загрузки веток на новую ветку используйте *git checkout -b <new_branch_name> <rep/branch>*.

Для отправки данных на сервер используйте *git push <  rep>< br>*.

где rep это название внешнего репозитория, а br локальная ветка которую вы хотите отправить. Также вы можете использовать такую запись *git push origin master:dev*. Таким образом вы выгрузите вашу локальную ветку master на origin (но там она будет называется dev). Вы не сможете отправить данные во внешний репозитории если у вас нет на это прав. Также вы не сможете отправить данные на внешнюю ветку если она опережает вашу (в общем то отправить вы можете используя *-f, --forse* в этом случае вы перепишите историю на внешнем репозитории). Вы можете не указывать название ветки если ваша ветка отслеживает внешнюю.

Для удаления внешних веток используйте *git push origin --delete branch_name*

Для получения подробной информации о внешнем репозитории (адреса для отправки и получения, на что указывает HEAD, внешние ветки, локальные ветки настроенные для *git pull* и локальные ссылки настроенные для *git push*)

*git remote show <remote_name>*

Для переименования названия внешнего репозитория используйте *git remote rename <last_name> <new_name>*

Для удаления ссылки на внешний репозитории используйте *git remote rm <name>*